{# templates/header.html.twig #}
<header class="bg-secondary">
    <div class="flex flex-row justify-between items-center p-4">

        <img src="{{ asset('images/logo_blanc.png') }}" alt="Logo" style="width: 250px">

        <div class="flex w-1/4 flex justify-around"> <!-- 50% de la largeur parent -->
            <a href="" class="text-white">EXPLORER</a>
            <a href="#" id="openModalBtn" class="text-white">CRÉER</a>

        </div>

    </div>

    <!-- Modal -->
    <div id="modal" class="fixed z-10 inset-0 overflow-y-auto hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Background backdrop -->
        <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>

        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
                    <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">

                            <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left">
                                <h3 class="text-base font-semibold leading-6 text-gray-900" id="modal-title">Création d'un template</h3>
                                <div class="mt-2">
                                    <p class="text-sm text-gray-500">Veuillez attribuer des propriétés à ce template. Tous les changements seront enregistrés. Cette action ne peut pas être annulée.</p>
                                </div>
                            </div>
                            <div>
                                <form id="templateForm" class="space-y-4">
                                    <div>
                                        <label for="name" class="block text-sm font-medium text-gray-700">Nom du template</label>
                                        <input type="text" id="name" name="name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="height" class="block text-sm font-medium text-gray-700">Hauteur (en pixels)</label>
                                        <input type="number" id="height" name="height" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="width" class="block text-sm font-medium text-gray-700">Largeur (en pixels)</label>
                                        <input type="number" id="width" name="width" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="colorCount" class="block text-sm font-medium text-gray-700">Nombre de couleurs</label>
                                        <select id="colorCount" name="colorCount" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                            <option value="">Sélectionner...</option>
                                            <option value="1">1 couleur</option>
                                            <option value="2">2 couleurs</option>
                                            <option value="3">3 couleurs</option>
                                            <option value="4">4 couleurs</option>
                                            <option value="5">5 couleurs</option>
                                            <!-- Ajouter d'autres options si nécessaire -->
                                        </select>
                                    </div>
                                    <div id="colorOptions" class="space-y-2 hidden">
                                        <!-- Les options de couleurs seront ajoutées ici dynamiquement -->
                                    </div>
                                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md">Créer le template</button>
                                </form>
                            </div>

                        </div>
                    </div>
                    <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
                        <button id="deactivateBtn" type="button" class="inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto">Deactivate</button>
                        <button id="closeModalBtn" type="button" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        const openModalBtn = document.getElementById('openModalBtn');
        const modal = document.getElementById('modal');
        const closeModalBtn = document.getElementById('closeModalBtn');

        // Open modal on click
        openModalBtn.addEventListener('click', function(event) {
            event.preventDefault();  // Prevent default anchor behavior
            modal.classList.remove('hidden');
        });

        // Close modal on Cancel button click
        closeModalBtn.addEventListener('click', function() {
            modal.classList.add('hidden');
        });

        // Close modal on outside click (optional)
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.classList.add('hidden');
            }
        });
    </script>
    <script>
        const colorCountSelect = document.getElementById('colorCount');
        const colorOptionsDiv = document.getElementById('colorOptions');

        // Écoute le changement dans le nombre de couleurs sélectionné
        colorCountSelect.addEventListener('change', function() {
            const colorCount = parseInt(this.value);
            colorOptionsDiv.innerHTML = ''; // Réinitialise les options de couleur

            if (colorCount) {

            } else {
                colorOptionsDiv.classList.add('hidden'); // Masquer les options de couleur si aucun nombre sélectionné
            }
        });
    </script>
</header>
